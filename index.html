<!doctype html>
<html lang="no" data-theme="system">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="color-scheme" content="dark light" />
    <title>Eon AS — Firmapresentasjon</title>
    <meta
      name="description"
      content="Kort firmapresentasjon med team, prosjekter og kontakt — i én offline HTML."
    />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Eon AS — Firmapresentasjon" />
    <meta property="og:description" content="Kort firmapresentasjon med team, prosjekter og kontakt. To personer. Store leveranser." />
    <meta property="og:locale" content="nb_NO" />
    <meta property="og:site_name" content="Eon AS" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Eon AS — Firmapresentasjon" />
    <meta name="twitter:description" content="Kort firmapresentasjon med team, prosjekter og kontakt. To personer. Store leveranser." />
    
    <!-- iOS Safari meta tags (helps force Safari instead of Quick Look) -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Eon AS" />
    <meta name="mobile-web-app-capable" content="yes" />
    
    <!-- Prevent iOS from treating as "preview" -->
    <meta name="format-detection" content="telephone=no" />
    
    <!-- Android Chrome -->
    <meta name="theme-color" content="#0a0f1e" media="(prefers-color-scheme: dark)" />
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)" />

    <link rel="stylesheet" href="styles.css" />
    
    <!-- Structured Data (JSON-LD) for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Eon AS",
      "description": "Eon AS bistår industribedrifter og prosjektledere som trenger hjelp til å få tekniske prosjekter i mål. Vi leverer robuste, moderne og tilpassede løsninger innen industriell programvare og automasjon.",
      "url": "https://eon-as.no",
      "contactPoint": [
        {
          "@type": "ContactPoint",
          "name": "Tommy Nordmarken",
          "email": "tommy.nordmarken@eon-as.no",
          "telephone": "+47-400-48-737",
          "contactType": "Sales"
        },
        {
          "@type": "ContactPoint",
          "name": "Erik Nerhus",
          "email": "erik.nerhus@eon-as.no",
          "telephone": "+47-951-52-733",
          "contactType": "Sales"
        }
      ],
      "founder": [
        {
          "@type": "Person",
          "name": "Tommy Nordmarken"
        },
        {
          "@type": "Person",
          "name": "Erik Nerhus"
        }
      ],
      "areaServed": "NO",
      "knowsAbout": [
        "Industriell automasjon",
        "SCADA-systemer",
        "Kontrollsystemer",
        "Systemintegrasjon",
        "Rust",
        "React",
        "TypeScript",
        "ModbusTCP"
      ]
    }
    </script>
  </head>

  <body>
    <a class="skip" href="#slide-1">Hopp til innhold</a>

    <!-- Mobile preview helper: iOS Quick Look / in-app viewers may not run all JS/CSS correctly -->
    <div class="open-safari" id="openSafari" role="dialog" aria-modal="true" aria-labelledby="openSafariTitle">
      <div class="card panel">
        <h3 id="openSafariTitle" style="margin-top:0; font-size:20px; font-weight:700;">
          ⚠️ Åpne i Safari for best opplevelse
        </h3>
        <p style="font-size:15px; line-height:1.6; margin-bottom:20px;">
          Denne filen er åpnet i en forhåndsvisning. For å få alle funksjoner (slides, animasjoner, popups)
          <strong>må den åpnes i Safari</strong>.
        </p>
        <div id="iosInstructions" style="display:none">
          <ol>
            <li>Trykk <b>Del</b> (share-ikonet)</li>
            <li>Velg <b>Åpne i Safari</b></li>
          </ol>
          <p style="margin-top:12px; font-size:12px; opacity:0.9">
            Tips: Lagre i <b>Filer</b>-appen først, så åpne derfra for best resultat.
          </p>

        </div>
        <div id="androidInstructions" style="display:none">
          <ol>
            <li>Trykk <b>⋮</b> (meny) eller <b>Del</b></li>
            <li>Velg <b>Åpne med</b> → <b>Chrome</b></li>
          </ol>
          <p style="margin-top:12px; font-size:12px; opacity:0.9">
            Tips: Last ned filen først, så åpne den i Chrome.
          </p>
        </div>
        <div class="row">
          <button type="button" class="btn-primary" id="openSafariBtn">Åpne i nettleser</button>
          <button type="button" class="btn-ghost" id="dismissSafariBtn">Fortsett her</button>
        </div>
      </div>
    </div>

    <header class="topbar" role="banner">
      <div class="topbar-inner">
        <div class="brand" aria-label="Merkevare">
          <!-- Logo (offline single-file; src set by JS) -->
          <img class="logo" data-inline="logo" alt="Logo" />
          <div style="min-width:0">
            <h1 id="companyName">Eon AS</h1>
            <p id="companyTagline">To personer. Store leveranser.</p>
          </div>
        </div>

        <div class="actions">
          <div class="pill" aria-label="Tema og navigasjon">
            <div class="seg" role="group" aria-label="Tema">
              <button type="button" data-theme-btn="system" aria-pressed="true" title="System">
                Auto
              </button>
              <button type="button" data-theme-btn="light" aria-pressed="false" title="Lys">
                Lys
              </button>
              <button type="button" data-theme-btn="dark" aria-pressed="false" title="Mørk">
                Mørk
              </button>
            </div>

            <button
              class="icon-btn"
              type="button"
              id="nextBtn"
              title="Neste slide (↓)"
              aria-label="Neste slide"
            >
              <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path
                  d="M12 5v12m0 0 5-5m-5 5-5-5"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </header>

    <div class="scroll-progress" role="progressbar" aria-label="Scroll progress">
      <div class="scroll-progress-bar"></div>
    </div>

    <nav class="dots" aria-label="Slides">
      <a href="#slide-1" aria-current="true" aria-label="Slide 1"></a>
      <a href="#slide-2" aria-current="false" aria-label="Slide 2"></a>
      <a href="#slide-3" aria-current="false" aria-label="Slide 3"></a>
      <a href="#slide-4" aria-current="false" aria-label="Slide 4"></a>
    </nav>

    <main id="main" tabindex="-1" aria-label="Firmapresentasjon">
      <!-- Slide 1: HERO -->
      <section class="slide" id="slide-1" aria-label="Intro">
        <div class="slide-inner">
          <div class="panel hero" data-reveal>
            <div class="hero-grid">
              <div>
                <div class="kicker">
                  <span class="dot" aria-hidden="true"></span>
                  <span></span>
                </div>
                <h2>
                  Når det ikke finnes en standardløsning
                </h2>
                <p>
                  Eon AS bistår industribedrifter og prosjektledere som trenger hjelp til å få tekniske prosjekter i mål.
                  Vi leverer robuste, moderne og tilpassede løsninger – og tar ansvar der andre leverandører stopper.
                </p>
                <p style="margin-top:12px; font-weight:600;">
                  Kort sagt: Vi fikser det.
                </p>

                <div class="cta-row" role="group" aria-label="Hurtigvalg">
                  <a class="btn primary" href="#slide-3">
                    Se prosjekter
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <path
                        d="M5 12h12m0 0-5-5m5 5-5 5"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </a>
                  <a class="btn" href="#slide-4">
                    Kontakt oss
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <path
                        d="M21 8V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v1m18 0v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8m18 0-9 6L3 8"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </a>
                  
                </div>

                <p class="footer-hint">
                  <!-- Version info moved to bottom of page -->
                </p>
              </div>

              <div class="stats" aria-label="Høydepunkter">
                <div class="stat">
                  <strong>Skreddersøm – ikke hyllevare</strong>
                  <span>Vi bygger løsninger tilpasset eksisterende anlegg, arbeidsprosesser og krav til driftssikkerhet. Dette gir systemer som faktisk brukes – og som varer.</span>
                </div>
                <div class="stat">
                  <strong>Broen mellom OT og IT</strong>
                  <span>Solid forståelse for både industriell drift og moderne programvareutvikling. Vi kobler maskiner og sensorer mot moderne systemer, fra fabrikkgulv til skybaserte løsninger.</span>
                </div>
                <div class="stat">
                  <strong>Moderne teknologi – på riktig måte</strong>
                  <span>Rust, React, Linux-baserte systemer og industriell kommunikasjon. Teknologi er et virkemiddel – ikke et mål i seg selv.</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 2: TEAM -->
      <section class="slide" id="slide-2" aria-label="Team">
        <div class="slide-inner">
          <div class="panel" data-reveal>
            <div class="section-head">
              <div>
                <h3>Hvem vi er</h3>
                <p>
                  Eon AS består av to konsulenter med komplementær kompetanse innen automasjon og moderne programvareutvikling.
                  Vi jobber hands-on, tett på prosjektet og med tydelig eierskap til leveransen. Vi er små nok til å være smidige – og erfarne nok til å ta ansvar.
                </p>
              </div>
            </div>

            <div class="persons-container">
            <div class="persons-scroll">
              <article class="card person-scrollable" aria-label="Person 1">
              <div class="person-header">
                <img class="avatar avatar-photo" data-inline="erik_profile" alt="Erik Nerhus" style="width: 120px; height: 120px;" />
                <div>
                  <h4>Erik Nerhus</h4>
                  <div class="role">Software Ingeniør</div>
                </div>
              </div>
              <div class="scrollable-content">
                <div class="card" style="margin-top:14px; margin-bottom:0">
                  <h4>Profil</h4>
                  <p class="muted small" style="margin:8px 0 0">
                    Sivilingeniør med bred erfaring innen maskindesign, robotikk, maskinkontroll og elektriske systemer. Jobber i skjæringspunktet mellom mekanikk, elektro og programvare, og har god forståelse for hvordan tekniske systemer fungerer i reell drift. Erfaring med simulering, systemforståelse og utvikling av løsninger som er tilpasset industrielle miljøer.
                  </p>
                  <p class="muted small" style="margin:10px 0 0">
                    Har erfaring med full-stack utvikling av industrielle systemer, der Eon AS har levert komplette løsninger basert på Rust i backend og React i frontend. Jobber med utvikling av SCADA-nære applikasjoner, dashboards og integrasjoner, samt oppsett av sikre VPN-løsninger for fjernaksess, nettverksstruktur og grunnleggende cybersikkerhet i industrielle systemer.
                  </p>
                </div>

                <div class="card" style="margin-top:14px; margin-bottom:0">
                  <h4>Erfaring (utdrag)</h4>
                  <div class="timeline" aria-label="Tidslinje">
                    <div class="tl">
                      <div class="tl-top">
                        <h5>HMH — Senior Software Service Engineer</h5>
                        <div class="when">Jun 2022 – nå</div>
                      </div>
                      <p>
                        Commissioning og oppfølging av ADC-produkter (DEAL/CADS, Early Kick Detection, Soft Torque Z,
                        BeAware/Driller's Assist). Crew training, feilsøking og korrigerende tiltak ved downtime/kritiske feil.
                        Software lead ved installasjon/commissioning av DCMS på Grane.
                      </p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>MHWirth — Senior Software Engineer (ADC)</h5>
                        <div class="when">Mar 2019 – Jun 2020</div>
                      </div>
                      <p>
                        Utvikling/forbedring av drilling-automatisering: DEAL™ API (gateway til automasjon), Driller's Assist™
                        (well protection), CADS 2.0™ (computer assisted drilling), Soft Torque Z (reduksjon av stick-slip).
                        Tverrfaglig samarbeid med domeneeksperter og klasseselskaper.
                      </p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>ESNA AS — Control System Engineer</h5>
                        <div class="when">Mar 2016 – Jun 2019</div>
                      </div>
                      <p>
                        Full-stack utvikling av SES-kontrollsystemer, 3D simulator for testing/visualisering (Unity/C#),
                        integrasjon i fartøy, P&amp;ID/dokumentasjon for klassing, samt remote access over 4G og cybersikkerhet.
                      </p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>Aker Solutions — Software Service Engineer</h5>
                        <div class="when">Sep 2014 – Feb 2016</div>
                      </div>
                      <p>
                        Commissioning av Cat-D drilling rigs (Songa Offshore/Statoil) ved DSME (Sør-Korea) og offshore support.
                        Kontrollsysteminstallasjon, tuning, upgrades/overhauls, troubleshooting og vendor-/kunde-koordinering.
                      </p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>Norwegian Armed Forces — Mechanical Engineer</h5>
                        <div class="when">Mar 2013 – Mar 2014</div>
                      </div>
                      <p>
                        3D-modellering og animasjon (Inventor, 3D Studio Max) for prosjekter knyttet til marine-fartøy og utstyr.
                      </p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>Aker Solutions — Software Test Engineer</h5>
                        <div class="when">Jun 2012 – Sep 2014</div>
                      </div>
                      <p>
                        Testing av kontrollsystemer/instrumentering for offshore drilling. Bygget testprosedyrer og fasiliteter,
                        med målbar reduksjon i feilrate ved commissioning.
                      </p>
                    </div>
                  </div>
                </div>

                <div class="card" style="margin-top:14px; margin-bottom:0">
                  <h4>Utdanning</h4>
                  <div class="timeline" style="margin-top:12px">
                    <div class="tl">
                      <div class="tl-top">
                        <h5>MSc — Industrial economics &amp; technology management</h5>
                        <div class="when">2023</div>
                      </div>
                      <p>University of Agder, Norway</p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>BSc — Mechatronics (robotics &amp; control systems)</h5>
                        <div class="when">2012</div>
                      </div>
                      <p>University of Agder, Norway</p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>Automation</h5>
                        <div class="when">2008</div>
                      </div>
                      <p>Kvadraturen High School, Norway</p>
                    </div>
                  </div>
                </div>
              </div>
            </article>

            <article class="card person-scrollable" aria-label="Person 2">
              <div class="person-header">
                <div class="avatar" aria-hidden="true">TN</div>
                <div>
                  <h4>Tommy Nordmarken</h4>
                  <div class="role">Software Ingeniør</div>
                </div>
              </div>
              <div class="scrollable-content">
                <div class="card" style="margin-top:14px; margin-bottom:0">
                  <h4>Profil</h4>
                  <p class="muted small" style="margin:8px 0 0">
                    Erfaren og løsningsorientert ingeniør innen elektro, automasjon og kontrollsystemer, med bakgrunn fra
                    både militær, sivil og offentlig sektor. Er vant til å jobber
                    både i team og leveranser fra idé til ferdig 
                    idriftsettelse i krevende miljøer (offshore, verft, VA, tunnel og maritimt).
                  </p>
                </div>

                <div class="card" style="margin-top:14px; margin-bottom:0">
                  <h4>Erfaring (utdrag)</h4>
                  <div class="timeline" aria-label="Tidslinje">
                    <div class="tl">
                      <div class="tl-top">
                        <h5>HMHW AS — Senior Engineer</h5>
                        <div class="when">2024 – d.d.</div>
                      </div>
                      <p>Teknisk support mot oljeplattform i drift.</p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>Opt‑E AS — Senior prosjektingeniør</h5>
                        <div class="when">2024</div>
                      </div>
                      <p>Prosjektplanlegging, programmering (Python / CoDeSys), survey og energiberegning.</p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>Motus Technology — Senior prosjektingeniør</h5>
                        <div class="when">2022 – 2024</div>
                      </div>
                      <p>Kontrollsystem til 3D-kompenserte gangveier (walk‑to‑work) med Siemens TIA og redundante safety-PLS (S7‑1500).</p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>BRE Digital — Co‑founder / CTO</h5>
                        <div class="when">2020 – 2022</div>
                      </div>
                      <p>Prosjektledelse, teknologivalg, skytjenester, hardware og anbud.</p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>Energos Solution — Co‑founder / CTO</h5>
                        <div class="when">2016 – 2019</div>
                      </div>
                      <p>Teknologivalg, implementeringer og leveranser på tvers av hardware/software.</p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>MHWirth / HMHW — Software Service Engineer</h5>
                        <div class="when">2013 – 2016</div>
                      </div>
                      <p>Igangsetting av Songa Cat‑D rigger ved DSME Shipyard (Sør‑Korea).</p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>Norcon Engineering / Tratec — Software Service Engineer</h5>
                        <div class="when">2011 – 2013</div>
                      </div>
                      <p>Serviceoppdrag på land og offshore (tunnel, VA, renseanlegg, skip og oljeinstallasjoner).</p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>Luftforsvaret — Systemoffiser radar</h5>
                        <div class="when">2005 – 2011</div>
                      </div>
                      <p>Drift og vedlikehold av radar-/overvåkingssystemer og teknisk infrastruktur.</p>
                    </div>
                  </div>
                </div>

                <div class="card" style="margin-top:14px; margin-bottom:0">
                  <h4>Utdanning</h4>
                  <div class="timeline" style="margin-top:12px">
                    <div class="tl">
                      <div class="tl-top">
                        <h5>Befalskole</h5>
                        <div class="when">2006</div>
                      </div>
                      <p>Luftforsvarets skolesenter Kjevik</p>
                    </div>
                    <div class="tl">
                      <div class="tl-top">
                        <h5>Elektronikk</h5>
                        <div class="when">2005</div>
                      </div>
                      <p>Horten videregående skole</p>
                    </div>
                  </div>
                </div>
              </div>
            </article>
            </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 3: PROJECTS (1) -->
      <section class="slide" id="slide-3" aria-label="Prosjekter 1">
        <div class="slide-inner">
          <div class="panel" data-reveal>
            <div class="section-head">
              <div>
                <h3>Prosjekter</h3>
                <p>Eon AS tilbyr fleksibel bistand innen industriell programvare og automasjon. Typiske oppdrag: SCADA- og overvåkningssystemer, systemintegrasjon, automatisering, dashboards og modernisering av eksisterende anlegg.</p>
              </div>
            </div>

            <div class="projects-container">
            <div class="projects-scroll">
              <article class="card project" aria-label="Norsk Luftambulanse">
              <div class="project-title">
                <h4>Norsk Luftambulanse</h4>
                <button class="btn" type="button" data-open-modal="helipad" style="padding:8px 10px">
                  Mer
                  <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path
                      d="M5 12h12m0 0-5-5m5 5-5 5"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </button>
              </div>
              <div class="project-media" aria-label="Bilde">
                <img data-inline="norsk_luftambulanse" alt="Norsk Luftambulanse prosjektbilde" loading="lazy"  />
              </div>
              <p>
                Prosjektet handler om å lage en ny helikoptertralle for å transportere ambulansehelikopteret til og fra hangar. 
                Trallen styres via fjernkontroll fra helikopteret og har innebygd automasjon som opp/ned ramping, sikkerhetssoner, 
                og en HMI for systemovervåking og konfigurering. En effektiv React-applikasjon håndterer logikken, mens en PLC 
                håndterer I/O.
              </p>
            </article>

            <article class="card project" aria-label="Aas betong - SCADA">
              <div class="project-title">
                <h4>Aas betong - SCADA</h4>
                <button class="btn" type="button" data-open-modal="aas" style="padding:8px 10px">
                  Mer
                  <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path
                      d="M5 12h12m0 0-5-5m5 5-5 5"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </button>
              </div>
              <div class="project-media" style="display:grid; grid-template-columns:1fr 1fr; gap:8px">
                <img data-inline="aas_betong_1" alt="Ås Betong prosjektbilde 1" loading="lazy" style="aspect-ratio:16/10; object-fit:cover; border-radius:12px" />
                <img data-inline="aas_betong_2" alt="Ås Betong prosjektbilde 2" loading="lazy" style="aspect-ratio:16/10; object-fit:cover; border-radius:12px" />
              </div>
              <p>
                Nytt SCADA-system for produksjonsmiljø hvor vi gjenbrukte eksisterende PLC. IPC med Rust Backend håndterer 
                logikk og industriell kommunikasjon, mens React frontend gir moderne brukeropplevelse. ModbusTCP ble gjenbrukt 
                med over 700 mappede registre. Båndbreddehåndtering og prioritering skjer på Rust-siden, med SSE for 
                videreføring til React.
              </p>
            </article>
            </div>
            <!-- Prosjekt C fjernet inntil videre -->
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 4: CONTACT -->
      <section class="slide" id="slide-4" aria-label="Kontakt">
        <div class="slide-inner">
          <div class="panel contact" data-reveal>
            <div class="section-head">
              <div>
                <h3>Kontakt</h3>
                <p>Ta kontakt for en uforpliktende prat. Vi svarer raskt.</p>
              </div>
            </div>

            <div class="grid two">
              <div class="card">
                <h4>E-post</h4>
                
                <div class="contact-item">
                  <div style="display:flex; align-items:center; gap:8px; margin-bottom:8px">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:18px; height:18px; color:var(--muted)">
                      <path
                        d="M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0ZM12 14a7 7 0 0 0-7 7h14a7 7 0 0 0-7-7Z"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    <span style="font-weight:600; font-size:15px">Tommy Nordmarken</span>
                  </div>
                  <a href="mailto:tommy.nordmarken@eon-as.no" style="color:var(--text); text-decoration:none; font-size:15px; display:block; margin-bottom:10px">
                    tommy.nordmarken@eon-as.no
                  </a>
                  <div class="contact-row" aria-label="E-postvalg">
                    <button class="btn" type="button" data-copy="tommy.nordmarken@eon-as.no" style="padding:10px 14px; font-size:14px">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:16px; height:16px">
                        <path
                          d="M8 7h11v14H8V7Zm-3 3H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h9v-1"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                      Kopier
                    </button>
                    <a class="btn" href="mailto:tommy.nordmarken@eon-as.no" style="padding:10px 14px; font-size:14px">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:16px; height:16px">
                        <path
                          d="M21 8V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v1m18 0v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8m18 0-9 6L3 8"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                      Send
                    </a>
                  </div>
                </div>

                <div class="contact-item">
                  <div style="display:flex; align-items:center; gap:8px; margin-bottom:8px">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:18px; height:18px; color:var(--muted)">
                      <path
                        d="M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0ZM12 14a7 7 0 0 0-7 7h14a7 7 0 0 0-7-7Z"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    <span style="font-weight:600; font-size:15px">Erik Nerhus</span>
                  </div>
                  <a href="mailto:erik.nerhus@eon-as.no" style="color:var(--text); text-decoration:none; font-size:15px; display:block; margin-bottom:10px">
                    erik.nerhus@eon-as.no
                  </a>
                  <div class="contact-row" aria-label="E-postvalg">
                    <button class="btn" type="button" data-copy="erik.nerhus@eon-as.no" style="padding:10px 14px; font-size:14px">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:16px; height:16px">
                        <path
                          d="M8 7h11v14H8V7Zm-3 3H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h9v-1"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                      Kopier
                    </button>
                    <a class="btn" href="mailto:erik.nerhus@eon-as.no" style="padding:10px 14px; font-size:14px">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:16px; height:16px">
                        <path
                          d="M21 8V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v1m18 0v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8m18 0-9 6L3 8"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                      Send
                    </a>
                  </div>
                </div>
              </div>

              <div class="card">
                <h4>Telefon</h4>
                
                <div class="contact-item">
                  <div style="display:flex; align-items:center; gap:8px; margin-bottom:8px">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:18px; height:18px; color:var(--muted)">
                      <path
                        d="M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.11 4.18 2 2 0 0 1 4.09 2h3a2 2 0 0 1 2 1.72c.12.86.3 1.7.54 2.5a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.58-1.09a2 2 0 0 1 2.11-.45c.8.24 1.64.42 2.5.54A2 2 0 0 1 22 16.92Z"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    <span style="font-weight:600; font-size:15px">Tommy Nordmarken</span>
                  </div>
                  <a href="tel:+4740048737" style="color:var(--text); text-decoration:none; font-size:15px; display:block; margin-bottom:10px">
                    +47 400 48 737
                  </a>
                  <div class="contact-row" aria-label="Telefonvalg">
                    <a class="btn" href="tel:+4740048737" style="padding:10px 14px; font-size:14px">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:16px; height:16px">
                        <path
                          d="M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.11 4.18 2 2 0 0 1 4.09 2h3a2 2 0 0 1 2 1.72c.12.86.3 1.7.54 2.5a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.58-1.09a2 2 0 0 1 2.11-.45c.8.24 1.64.42 2.5.54A2 2 0 0 1 22 16.92Z"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                      Ring
                    </a>
                  </div>
                </div>

                <div class="contact-item">
                  <div style="display:flex; align-items:center; gap:8px; margin-bottom:8px">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:18px; height:18px; color:var(--muted)">
                      <path
                        d="M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.11 4.18 2 2 0 0 1 4.09 2h3a2 2 0 0 1 2 1.72c.12.86.3 1.7.54 2.5a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.58-1.09a2 2 0 0 1 2.11-.45c.8.24 1.64.42 2.5.54A2 2 0 0 1 22 16.92Z"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    <span style="font-weight:600; font-size:15px">Erik Nerhus</span>
                  </div>
                  <a href="tel:+4795152733" style="color:var(--text); text-decoration:none; font-size:15px; display:block; margin-bottom:10px">
                    +47 951 52 733
                  </a>
                  <div class="contact-row" aria-label="Telefonvalg">
                    <a class="btn" href="tel:+4795152733" style="padding:10px 14px; font-size:14px">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="width:16px; height:16px">
                        <path
                          d="M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.11 4.18 2 2 0 0 1 4.09 2h3a2 2 0 0 1 2 1.72c.12.86.3 1.7.54 2.5a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.58-1.09a2 2 0 0 1 2.11-.45c.8.24 1.64.42 2.5.54A2 2 0 0 1 22 16.92Z"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                      Ring
                    </a>
                  </div>
                </div>
              </div>
            </div>

            <!-- Version info -->
            <div class="version-info" id="version-indicator">
              v1.2.5 • Oppdatert 19. desember 2025
            </div>
          </div>
        </div>
      </section>
    </main>

    <div class="toast" id="toast" role="status" aria-live="polite" aria-atomic="true">
      <span id="toastText">Kopiert</span>
    </div>

    <!-- Modal: Erik Nerhus -->
    <section class="modal" id="modal-erik" role="dialog" aria-modal="true" aria-labelledby="modal-erik-title">
      <div class="modal-dialog">
        <div class="modal-head">
          <strong id="modal-erik-title">Erik Nerhus — Software Ingeniør</strong>
          <button class="icon-btn" type="button" data-close-modal aria-label="Lukk">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path
                d="M6 6l12 12M18 6 6 18"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="card">
            <div class="person" style="grid-template-columns:auto 1fr">
              <img class="avatar avatar-photo" data-inline="erik_profile" alt="Erik Nerhus" style="width: 200px; height: 200px;" />
              <div>
                <h4>Profil</h4>
                <p class="muted small" style="margin:8px 0 0">
                  Sivilingeniør med bred erfaring innen maskindesign, robotikk, maskinkontroll og elektriske systemer. Jobber i skjæringspunktet mellom mekanikk, elektro og programvare, og har god forståelse for hvordan tekniske systemer fungerer i reell drift. Erfaring med simulering, systemforståelse og utvikling av løsninger som er tilpasset industrielle miljøer.
                </p>
                <p class="muted small" style="margin:10px 0 0">
                  Har erfaring med full-stack utvikling av industrielle systemer, der Eon AS har levert komplette løsninger basert på Rust i backend og React i frontend. Jobber med utvikling av SCADA-nære applikasjoner, dashboards og integrasjoner, samt oppsett av sikre VPN-løsninger for fjernaksess, nettverksstruktur og grunnleggende cybersikkerhet i industrielle systemer.
                </p>
              </div>
            </div>
          </div>

          <div class="card" style="margin-top:14px">
            <h4>Erfaring (utdrag)</h4>
            <div class="timeline" aria-label="Tidslinje">
              <div class="tl">
                <div class="tl-top">
                  <h5>HMH — Senior Software Service Engineer</h5>
                  <div class="when">Jun 2022 – nå</div>
                </div>
                <p>
                  Commissioning og oppfølging av ADC-produkter (DEAL/CADS, Early Kick Detection, Soft Torque Z,
                  BeAware/Driller’s Assist). Crew training, feilsøking og korrigerende tiltak ved downtime/kritiske feil.
                  Software lead ved installasjon/commissioning av DCMS på Grane.
                </p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>MHWirth — Senior Software Engineer (ADC)</h5>
                  <div class="when">Mar 2019 – Jun 2020</div>
                </div>
                <p>
                  Utvikling/forbedring av drilling-automatisering: DEAL™ API (gateway til automasjon), Driller’s Assist™
                  (well protection), CADS 2.0™ (computer assisted drilling), Soft Torque Z (reduksjon av stick-slip).
                  Tverrfaglig samarbeid med domeneeksperter og klasseselskaper.
                </p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>ESNA AS — Control System Engineer</h5>
                  <div class="when">Mar 2016 – Jun 2019</div>
                </div>
                <p>
                  Full-stack utvikling av SES-kontrollsystemer, 3D simulator for testing/visualisering (Unity/C#),
                  integrasjon i fartøy, P&amp;ID/dokumentasjon for klassing, samt remote access over 4G og cybersikkerhet.
                </p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>Aker Solutions — Software Service Engineer</h5>
                  <div class="when">Sep 2014 – Feb 2016</div>
                </div>
                <p>
                  Commissioning av Cat-D drilling rigs (Songa Offshore/Statoil) ved DSME (Sør-Korea) og offshore support.
                  Kontrollsysteminstallasjon, tuning, upgrades/overhauls, troubleshooting og vendor-/kunde-koordinering.
                </p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>Norwegian Armed Forces — Mechanical Engineer</h5>
                  <div class="when">Mar 2013 – Mar 2014</div>
                </div>
                <p>
                  3D-modellering og animasjon (Inventor, 3D Studio Max) for prosjekter knyttet til marine-fartøy og utstyr.
                </p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>Aker Solutions — Software Test Engineer</h5>
                  <div class="when">Jun 2012 – Sep 2014</div>
                </div>
                <p>
                  Testing av kontrollsystemer/instrumentering for offshore drilling. Bygget testprosedyrer og fasiliteter,
                  med målbar reduksjon i feilrate ved commissioning.
                </p>
              </div>
            </div>
          </div>

          <div class="card" style="margin-top:14px">
            <h4>Utdanning</h4>
            <div class="timeline" style="margin-top:12px">
              <div class="tl">
                <div class="tl-top">
                  <h5>MSc — Industrial economics &amp; technology management</h5>
                  <div class="when">2023</div>
                </div>
                <p>University of Agder, Norway</p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>BSc — Mechatronics (robotics &amp; control systems)</h5>
                  <div class="when">2012</div>
                </div>
                <p>University of Agder, Norway</p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>Automation</h5>
                  <div class="when">2008</div>
                </div>
                <p>Kvadraturen High School, Norway</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal: Tommy Nordmarken -->
    <section class="modal" id="modal-tommy" role="dialog" aria-modal="true" aria-labelledby="modal-tommy-title">
      <div class="modal-dialog">
        <div class="modal-head">
          <strong id="modal-tommy-title">Tommy Nordmarken — Prosjektleder tekniske fag / ITB</strong>
          <button class="icon-btn" type="button" data-close-modal aria-label="Lukk">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path
                d="M6 6l12 12M18 6 6 18"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="card">
            <div class="person" style="grid-template-columns:auto 1fr">
              <div class="avatar" aria-hidden="true">TN</div>
              <div>
                <h4>Profil</h4>
                <p class="muted small" style="margin:8px 0 0">
                  Erfaren og løsningsorientert ingeniør innen elektro, automasjon og kontrollsystemer, med bakgrunn fra
                  både militær og sivil sektor. Kombinerer teknisk dybde med prosjektledelse/ITB, og er vant til å lede
                  team og leveranser fra idé til ferdig idriftsettelse i krevende miljøer (offshore, verft, VA, tunnel og maritimt).
                </p>
              </div>
            </div>
          </div>

          <div class="card" style="margin-top:14px">
            <h4>Erfaring (utdrag)</h4>
            <div class="timeline" aria-label="Tidslinje">
              <div class="tl">
                <div class="tl-top">
                  <h5>HMHW AS — Senior Engineer</h5>
                  <div class="when">2024 – d.d.</div>
                </div>
                <p>Teknisk support mot oljeplattform i drift.</p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>Opt‑E AS — Senior prosjektingeniør</h5>
                  <div class="when">2024</div>
                </div>
                <p>Prosjektplanlegging, programmering (Python / CoDeSys), survey og energiberegning.</p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>Motus Technology — Senior prosjektingeniør</h5>
                  <div class="when">2022 – 2024</div>
                </div>
                <p>Kontrollsystem til 3D-kompenserte gangveier (walk‑to‑work) med Siemens TIA og redundante safety-PLS (S7‑1500).</p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>BRE Digital — Co‑founder / CTO</h5>
                  <div class="when">2020 – 2022</div>
                </div>
                <p>Prosjektledelse, teknologivalg, skytjenester, hardware og anbud.</p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>Energos Solution — Co‑founder / CTO</h5>
                  <div class="when">2016 – 2019</div>
                </div>
                <p>Teknologivalg, implementeringer og leveranser på tvers av hardware/software.</p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>MHWirth / HMHW — Software Service Engineer</h5>
                  <div class="when">2013 – 2016</div>
                </div>
                <p>Igangsetting av Songa Cat‑D rigger ved DSME Shipyard (Sør‑Korea).</p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>Norcon Engineering / Tratec — Software Service Engineer</h5>
                  <div class="when">2011 – 2013</div>
                </div>
                <p>Serviceoppdrag på land og offshore (tunnel, VA, renseanlegg, skip og oljeinstallasjoner).</p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>Luftforsvaret — Systemoffiser radar</h5>
                  <div class="when">2005 – 2011</div>
                </div>
                <p>Drift og vedlikehold av radar-/overvåkingssystemer og teknisk infrastruktur.</p>
              </div>
            </div>
          </div>

          <div class="card" style="margin-top:14px">
            <h4>Utdanning</h4>
            <div class="timeline" style="margin-top:12px">
              <div class="tl">
                <div class="tl-top">
                  <h5>Befalskole</h5>
                  <div class="when">2006</div>
                </div>
                <p>Luftforsvarets skolesenter Kjevik</p>
              </div>
              <div class="tl">
                <div class="tl-top">
                  <h5>Elektronikk</h5>
                  <div class="when">2005</div>
                </div>
                <p>Horten videregående skole</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal: Helipad -->
    <section class="modal" id="modal-helipad" role="dialog" aria-modal="true" aria-labelledby="modal-helipad-title">
      <div class="modal-dialog">
        <div class="modal-head">
          <strong id="modal-helipad-title">Norsk Luftambulanse — Helikoptertrallen</strong>
          <button class="icon-btn" type="button" data-close-modal aria-label="Lukk">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path
                d="M6 6l12 12M18 6 6 18"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="grid two">
            <div class="card">
              <h4>Kort om prosjektet</h4>
              <p class="muted small" style="margin:10px 0 0">
                Prosjektet handler om å utvikle en ny helikoptertralle for å transportere ambulansehelikopteret til og fra hangar. 
                Trallen styres via fjernkontroll fra helikopteret og har innebygd automasjon som opp/ned ramping, sikkerhetssoner, 
                og en UI for systemovervåking og konfigurering. En effektiv Rust-applikasjon håndterer 
                logikken, mens en PLC håndterer I/O-integrasjon.
              </p>
              <div class="project-media" style="margin-top:14px">
                <img data-inline="norsk_luftambulanse" alt="Norsk Luftambulanse prosjektbilde" loading="lazy"  />
              </div>
            </div>

            <div class="card">
              <h4>Teknologi</h4>
              <div class="chips" style="margin-top:12px">
                <span class="chip" data-tech="react-typescript" role="button" tabindex="0"><span class="mini" aria-hidden="true"></span>React</span>
                <span class="chip" data-tech="rust" role="button" tabindex="0"><span class="mini" aria-hidden="true"></span>Rust</span>
                <span class="chip" data-tech="modbus" role="button" tabindex="0"><span class="mini" aria-hidden="true"></span>Modbus</span>
              </div>
              <p class="muted small" style="margin:12px 0 0">
                Rust-backend håndterer all systemlogikk, kommunikasjon med PLC via ModbusTCP, og eksponerer API for React-frontend. React-applikasjonen gir moderne brukergrensesnitt for overvåking og konfigurering, mens PLC-en styrer I/O-operasjoner og sikkerhetskritisk automasjon. Systemet er designet for pålitelig drift i krevende industrielle miljøer.
              </p>
              <p class="muted small" style="margin:10px 0 0; font-weight:600;">
                Eksempel på React UI:
              </p>
              <div class="project-media" style="margin-top:10px; display:grid; grid-template-columns:1fr 1fr; gap:8px">
                <img data-inline="helipad_ui" alt="Eksempel på React UI for Helipad" loading="lazy" style="aspect-ratio:16/10; object-fit:cover; border-radius:12px" />
                <img data-inline="helipad_ui_2" alt="Eksempel på React UI for Helipad 2" loading="lazy" style="aspect-ratio:16/10; object-fit:cover; border-radius:12px" />
              </div>
            </div>
          </div>

          <div class="card" style="margin-top:14px">
            <h4>Nøkkelfunksjoner</h4>
            <ul class="bullets">
              <li><strong>Fjernkontroll</strong>: Styring av trallen direkte fra helikopteret.</li>
              <li><strong>Automatisert ramping</strong>: Automatisk opp/ned ramping for sikker transport.</li>
              <li><strong>Sikkerhetssoner</strong>: Innebygd sikkerhetssystem for trygg operasjon.</li>
              <li><strong>Rust Backend</strong>: Effektiv logikk håndtering.</li>
              <li><strong>React Frontend</strong>: Effektiv og moderne visualisering for kontroll og oppsett.</li>
              <li><strong>PLC-integrasjon</strong>: Programmerbar logikkontroller for I/O-håndtering.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal: Ås Betong -->
    <section class="modal" id="modal-aas" role="dialog" aria-modal="true" aria-labelledby="modal-aas-title">
      <div class="modal-dialog">
        <div class="modal-head">
          <strong id="modal-aas-title">Aas betong - SCADA</strong>
          <button class="icon-btn" type="button" data-close-modal aria-label="Lukk">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path
                d="M6 6l12 12M18 6 6 18"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="grid two">
            <div class="card">
              <h4>Kort om prosjektet</h4>
              <p class="muted small" style="margin:10px 0 0">
                Ås Betong prosjektet var et prosjekt hvor vi skulle lage et nytt SCADA-system eller top-system og gjenbruke 
                gammel PLC. Vi kom inn med en IPC hvor vi kjører Rust Backend som håndterer logikk og den industrielle 
                kommunikasjonen. Frontend kjøres i React for en moderne feeling.
              </p>
              <p class="muted small" style="margin:10px 0 0">
                ModbusTCP ble gjenbrukt som kommunikasjon, og over <strong>700 registre ble mappet opp</strong>. 
                Håndtering av båndbredde og prioritering ble gjort på Rust-siden. SSE (Server-Sent Events) ble valgt 
                for å videreføre data til React frontend, noe som var særlig nyttig med tanke på den store datamengden 
                som skulle sendes kontinuerlig.
              </p>
              <div class="project-media" style="margin-top:14px; display:grid; grid-template-columns:1fr 1fr; gap:8px">
                <img data-inline="aas_betong_1" alt="Ås Betong prosjektbilde 1" loading="lazy" style="aspect-ratio:16/10; object-fit:cover; border-radius:12px" />
                <img data-inline="aas_betong_2" alt="Ås Betong prosjektbilde 2" loading="lazy" style="aspect-ratio:16/10; object-fit:cover; border-radius:12px" />
              </div>
            </div>

            <div class="card">
              <h4>Teknologi</h4>
              <div class="chips" style="margin-top:12px">
                <span class="chip" data-tech="react-typescript" role="button" tabindex="0"><span class="mini" aria-hidden="true"></span>React</span>
                <span class="chip" data-tech="rust" role="button" tabindex="0"><span class="mini" aria-hidden="true"></span>Rust</span>
                <span class="chip" data-tech="modbus" role="button" tabindex="0"><span class="mini" aria-hidden="true"></span>Modbus</span>
                <span class="chip" data-tech="sse" role="button" tabindex="0"><span class="mini" aria-hidden="true"></span>SSE</span>
              </div>
              <p class="muted small" style="margin:12px 0 0">
                Backend eksponerer API for Modbus, polling, system og UI-mappinger. Frontend er bygget som en moderne,
                komponentbasert kontrollflate med konfigurasjonsmodus.
              </p>
            </div>
          </div>

          <div class="card" style="margin-top:14px">
            <h4>Nøkkelløsninger</h4>
            <ul class="bullets">
              <li><strong>IPC med Rust Backend</strong>: Håndterer all logikk og industriell kommunikasjon med høy ytelse og pålitelighet.</li>
              <li><strong>ModbusTCP gjenbruk</strong>: Gjenbrukte eksisterende kommunikasjonsprotokoll med over 700 mappede registre.</li>
              <li><strong>Båndbreddehåndtering</strong>: Intelligent prioritering og optimalisering av trafikk på Rust-siden.</li>
              <li><strong>SSE til React</strong>: Server-Sent Events for effektiv, enveis datastrøm fra backend til frontend.</li>
              <li><strong>React frontend</strong>: Moderne, responsiv brukergrensesnitt for operatører i produksjonsmiljøet.</li>
              <li><strong>PLC-gjenbruk</strong>: Beholdt eksisterende PLC-infrastruktur, kun oppgraderte SCADA-laget.</li>
            </ul>
          </div>

          <div class="card" style="margin-top:14px">
            <h4>Hvorfor det er relevant</h4>
            <p class="muted small" style="margin:10px 0 0">
              Prosjektet demonstrerer evnen til å modernisere eksisterende industrielle systemer ved å gjenbruke PLC-infrastruktur 
              mens man bygger et nytt, moderne SCADA-system. Kombinasjonen av Rust for robust backend-kommunikasjon og React for 
              moderne UX viser hvordan man kan oppgradere uten å erstatte hele systemet. Håndtering av over 700 registre med 
              optimalisert båndbredde og prioritering viser teknisk dybde i industrielle integrasjoner.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal: React -->
    <section class="modal" id="modal-react-typescript" role="dialog" aria-modal="true" aria-labelledby="modal-react-typescript-title">
      <div class="modal-dialog">
        <div class="modal-head">
          <strong id="modal-react-typescript-title">React</strong>
          <button class="icon-btn" type="button" data-close-modal aria-label="Lukk">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="card">
            <h4>Hva er React?</h4>
            <p class="muted small" style="margin:10px 0 0">
              React er et populært JavaScript-bibliotek for å bygge brukergrensesnitt, spesielt for web-applikasjoner. 
              Det bruker en komponentbasert arkitektur hvor UI er bygget opp av gjenbrukbare komponenter. React 19 er 
              den nyeste versjonen med forbedret ytelse og nye features som gir bedre utvikleropplevelse.
            </p>
            <p class="muted small" style="margin:10px 0 0">
              <strong>Hvorfor vi bruker det:</strong> React gir oss en effektiv måte å bygge moderne brukergrensesnitt på. 
              Komponentbasert arkitektur gjør det enkelt å bygge gjenbrukbare UI-komponenter, og virtual DOM gir god ytelse. 
              Dette er spesielt viktig i industrielle systemer hvor vi trenger responsive dashboards og kontrollflater 
              som kan håndtere real-time data fra produksjonsmiljøer.
            </p>
            <p class="muted small" style="margin:10px 0 0">
              <strong>I våre prosjekter:</strong> Vi bruker React sammen med <strong>TypeScript</strong> for type-sikkerhet 
              og bedre utvikleropplevelse. React gir oss fleksibilitet til å bygge moderne, responsive brukergrensesnitt 
              som kan håndtere komplekse industrielle dashboards og kontrollflater.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal: Vite + Tailwind -->
    <section class="modal" id="modal-vite-tailwind" role="dialog" aria-modal="true" aria-labelledby="modal-vite-tailwind-title">
      <div class="modal-dialog">
        <div class="modal-head">
          <strong id="modal-vite-tailwind-title">Vite + Tailwind CSS</strong>
          <button class="icon-btn" type="button" data-close-modal aria-label="Lukk">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="card">
            <h4>Hva er Vite + Tailwind?</h4>
            <p class="muted small" style="margin:10px 0 0">
              Vite er en moderne build-verktøy som gir ekstremt rask utviklingsopplevelse med instant server start 
              og rask hot module replacement (HMR). Tailwind CSS er et utility-first CSS-rammeverk som lar oss bygge 
              moderne designs raskt uten å skrive mye custom CSS.
            </p>
            <p class="muted small" style="margin:10px 0 0">
              <strong>Hvorfor vi bruker det:</strong> Vite gir oss raskere utvikling og bygging sammenlignet med tradisjonelle 
              build-verktøy. Tailwind CSS lar oss bygge konsistente, responsive designs raskt uten å hoppe mellom filer. 
              Dette reduserer utviklingstid og gjør det enklere å vedlikeholde styling.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal: Rust -->
    <section class="modal" id="modal-rust" role="dialog" aria-modal="true" aria-labelledby="modal-rust-title">
      <div class="modal-dialog">
        <div class="modal-head">
          <strong id="modal-rust-title">Rust</strong>
          <button class="icon-btn" type="button" data-close-modal aria-label="Lukk">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="card">
            <h4>Hva er Rust?</h4>
            <p class="muted small" style="margin:10px 0 0">
              Rust er et systemprogrammeringsspråk som fokuserer på ytelse, minnesikkerhet og samtidighet. 
              Det kombinerer lavnivåkontroll (som C/C++) med høynivå abstraksjoner og garanterer minnesikkerhet 
              uten garbage collection.
            </p>
            <p class="muted small" style="margin:10px 0 0">
              <strong>Hvorfor vi bruker det:</strong> Rust er ideelt for industrielle systemer hvor pålitelighet, 
              ytelse og minnesikkerhet er kritiske. Det er perfekt for backend-tjenester som håndterer industriell 
              kommunikasjon, I/O-operasjoner og systemintegrasjoner. Rust gir oss høy ytelse uten kompromisser 
              når det gjelder sikkerhet og vedlikeholdbarhet.
            </p>
            <p class="muted small" style="margin:10px 0 0">
              <strong>I våre prosjekter:</strong> Vi bruker Rust for backend-tjenester som håndterer industriell 
              kommunikasjon, I/O-operasjoner og systemintegrasjoner. Rust gir oss høy ytelse og pålitelighet uten 
              kompromisser når det gjelder sikkerhet og vedlikeholdbarhet. Vi bruker også Rust-biblioteker som 
              <strong>Axum</strong> og <strong>Tokio</strong> for asynkron håndtering og <strong>tokio-modbus</strong> 
              for type-sikker Modbus-kommunikasjon.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal: Modbus -->
    <section class="modal" id="modal-modbus" role="dialog" aria-modal="true" aria-labelledby="modal-modbus-title">
      <div class="modal-dialog">
        <div class="modal-head">
          <strong id="modal-modbus-title">Modbus</strong>
          <button class="icon-btn" type="button" data-close-modal aria-label="Lukk">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="card">
            <h4>Hva er Modbus?</h4>
            <p class="muted small" style="margin:10px 0 0">
              Modbus er en kommunikasjonsprotokoll som ble utviklet for bruk med programmerbare logikkontrollere (PLCs). 
              Det er en av de mest brukte protokollene i industriell automasjon og lar systemer kommunisere med 
              industrielt utstyr som sensorer, aktuatorer og kontrollere.
            </p>
            <p class="muted small" style="margin:10px 0 0">
              <strong>Hvorfor vi bruker det:</strong> Modbus er en standard i industrien og støttes av de fleste PLC-er 
              og industrielt utstyr. Ved å bruke Modbus kan vi integrere nye systemer med eksisterende infrastruktur 
              uten å erstatte hele anlegget. Dette gjør modernisering mer kostnadseffektiv og reduserer risiko.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal: SSE -->
    <section class="modal" id="modal-sse" role="dialog" aria-modal="true" aria-labelledby="modal-sse-title">
      <div class="modal-dialog">
        <div class="modal-head">
          <strong id="modal-sse-title">SSE (Server-Sent Events)</strong>
          <button class="icon-btn" type="button" data-close-modal aria-label="Lukk">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="card">
            <h4>Hva er SSE?</h4>
            <p class="muted small" style="margin:10px 0 0">
              Server-Sent Events (SSE) er en teknologi som lar en server sende data til en klient automatisk over 
              en HTTP-tilkobling. I motsetning til polling (hvor klienten må spørre serveren kontinuerlig), 
              opprettholder SSE en åpen tilkobling hvor serveren kan sende data når det er tilgjengelig.
            </p>
            <p class="muted small" style="margin:10px 0 0">
              <strong>Hvorfor vi bruker det:</strong> SSE er mer effektivt enn tradisjonell polling fordi det 
              reduserer nettverkstrafikk og latens. Dette er spesielt viktig i industrielle systemer hvor 
              real-time data er kritisk. SSE gir oss en balanse mellom real-time oppdateringer og båndbreddebruk.
            </p>
            <p class="muted small" style="margin:10px 0 0">
              <strong>I våre prosjekter:</strong> I Ås betong-prosjektet var SSE særlig nyttig med tanke på den store 
              datamengden som skulle sendes. Med over 700 mappede registre fra PLC-en, ville tradisjonell polling 
              ha generert mye unødvendig nettverkstrafikk. SSE lar oss sende data effektivt når det er endringer, 
              noe som reduserer båndbreddebruk betydelig sammenlignet med kontinuerlig polling.
            </p>
          </div>
        </div>
      </div>
    </section>

      <script>
        /**
         * Eon AS Presentation - Main Script
         * Handles theme switching, scrolling, modals, and animations
         */
        (() => {
        // Version info - bump this when making changes
        const VERSION = 'v1.2.5';
        const LAST_UPDATED = '19. desember 2025';

        const root = document.documentElement;
        // Use window for scrolling (body scroll) instead of .scroll container
        const scrollEl = window;
        const topbar = document.querySelector(".topbar");
        const dots = Array.from(document.querySelectorAll(".dots a"));
        const slides = Array.from(document.querySelectorAll(".slide"));
        const toast = document.getElementById("toast");
        const toastText = document.getElementById("toastText");
        const nextBtn = document.getElementById("nextBtn");
        const modalErik = document.getElementById("modal-erik");
        const modalTommy = document.getElementById("modal-tommy");
        const modalHelipad = document.getElementById("modal-helipad");
        const modalAas = document.getElementById("modal-aas");

        // Detect if we're on mobile (touch device)
        const isMobile = window.matchMedia("(hover: none) and (pointer: coarse)").matches;
        // Use window for scroll events
        const scrollContainer = window;
        const modalReactTypeScript = document.getElementById("modal-react-typescript");
        const modalViteTailwind = document.getElementById("modal-vite-tailwind");
        const modalRust = document.getElementById("modal-rust");
        const modalModbus = document.getElementById("modal-modbus");
        const modalSse = document.getElementById("modal-sse");

        const prefersReduced =
          window.matchMedia &&
          window.matchMedia("(prefers-reduced-motion: reduce)").matches;

        // ============================================================================
        // Image Loading
        // ============================================================================
        const INLINE_IMAGES = {
          logo: 'bilder/logo.jpeg',
          helipad: 'bilder/helipad-1.jpeg',
          erik_profile: 'bilder/Profilbilde_Erik.png',
          helipad_new: 'bilder/IMG_0463.jpeg',
          norsk_luftambulanse: 'bilder/NorskLuftambulanse.png',
          helihangard: 'bilder/helihangard-1.jpeg',
          helipad_ui: 'bilder/Helipad UI_eksempel.png',
          helipad_ui_2: 'bilder/Helipad UI_eksempel 2.png',
          aas_betong_1: 'bilder/Aas Betong 1.png',
          aas_betong_2: 'bilder/Aas Betong.png',
        };

        // Apply inline images (keeps HTML small + avoids huge src attributes)
        document.querySelectorAll("img[data-inline]").forEach((img) => {
          const key = img.getAttribute("data-inline");
          const uri = key ? INLINE_IMAGES[key] : null;
          if (uri) {
            img.src = uri;
            // Error handling for failed image loads
            img.addEventListener('error', function() {
              console.warn('Failed to load image:', uri);
              this.style.display = 'none'; // Hide broken images
            });
          }
        });

        // ============================================================================
        // iOS/Android Preview Helpers
        // ============================================================================
        // Some viewers (iOS Quick Look, in-app browsers) open HTML as a "preview" where scripts/scroll/reveal can behave oddly.
        // We can't force Safari from file://, but we can guide the user and open directly when served via http(s).
        (function setupOpenInSafari() {
          const openSafari = document.getElementById("openSafari");
          const openBtn = document.getElementById("openSafariBtn");
          const dismissBtn = document.getElementById("dismissSafariBtn");
          if (!openSafari || !openBtn || !dismissBtn) return;

          const ua = navigator.userAgent || "";
          const isIOS =
            /iPad|iPhone|iPod/.test(ua) || (navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1);
          const isAndroid = /Android/.test(ua);
          const isMobile = window.matchMedia && window.matchMedia("(hover: none) and (pointer: coarse)").matches;
          const isFile = location.protocol === "file:";

          // Show platform-specific instructions
          const iosInst = document.getElementById("iosInstructions");
          const androidInst = document.getElementById("androidInstructions");
          if (iosInst && androidInst) {
            if (isIOS) iosInst.style.display = "block";
            else if (isAndroid) androidInst.style.display = "block";
          }

          // Show overlay on mobile when opened as a local file (most common "preview" case)
          if (isMobile && (isIOS || isAndroid) && isFile) {
            openSafari.classList.add("open");
          }

          openBtn.addEventListener("click", () => {
            // If served via http(s), we can reload in the same browser
            if (location.protocol === "http:" || location.protocol === "https:") {
              location.href = location.href;
              return;
            }

            // For file:// URLs, we can't force Safari, but we can try several approaches:
            
            // 1. Try iOS Safari URL scheme (usually doesn't work from file://, but worth trying)
            if (isIOS) {
              try {
                // Attempt to open Safari URL scheme (may prompt user)
                const safariUrl = "safari://" + encodeURIComponent(location.href);
                window.location.href = safariUrl;
                
                // Fallback: Try opening in new window (also usually blocked)
                setTimeout(() => {
                  try {
                    window.open(location.href, "_blank");
                  } catch (e) {
                    // Ignore - blocked by browser
                  }
                }, 100);
              } catch (e) {
                // If URL scheme fails, show instructions
                console.log("Safari URL scheme not available");
              }
            }

            // 2. For Android, try to open in Chrome
            if (isAndroid) {
              try {
                window.open(location.href, "_blank");
              } catch (e) {
                // Ignore - blocked
              }
            }

            // 3. Always show overlay with instructions (most reliable)
            openSafari.classList.add("open");
            
            // 4. Try to copy file path to clipboard (if possible) for user to paste in Safari
            if (navigator.clipboard && isIOS) {
              navigator.clipboard.writeText(location.href).catch(() => {
                // Ignore clipboard errors
              });
            }
          });

          dismissBtn.addEventListener("click", () => {
            openSafari.classList.remove("open");
          });
        })();

        // Theme
        const THEME_KEY = "eon-theme";
        const THEME_VALUES = new Set(["system", "light", "dark"]);

        function setTheme(value) {
          const theme = THEME_VALUES.has(value) ? value : "system";
          root.setAttribute("data-theme", theme);
          localStorage.setItem(THEME_KEY, theme);
          document.querySelectorAll("[data-theme-btn]").forEach((btn) => {
            const v = btn.getAttribute("data-theme-btn");
            btn.setAttribute("aria-pressed", String(v === theme));
          });
        }

        try {
          const saved = localStorage.getItem(THEME_KEY);
          if (saved) setTheme(saved);
        } catch {
          // ignore
        }

        document.querySelectorAll("[data-theme-btn]").forEach((btn) => {
          btn.addEventListener("click", () =>
            setTheme(btn.getAttribute("data-theme-btn"))
          );
        });

        // Debug theme on mobile
        if (window.matchMedia("(hover: none) and (pointer: coarse)").matches) {
          console.log("Mobile device detected, current theme:", root.getAttribute("data-theme"));
          // Force re-apply theme on mobile load
          const currentTheme = root.getAttribute("data-theme") || "system";
          setTheme(currentTheme);
        }

        // Reveal animations (IntersectionObserver) - optimized to disconnect after animation
        const revealEls = Array.from(document.querySelectorAll("[data-reveal]")).filter(el =>
          el instanceof Element && el.isConnected
        );
        if (!prefersReduced && "IntersectionObserver" in window) {
          const io = new IntersectionObserver(
            (entries) => {
              for (const e of entries) {
                if (e.isIntersecting) {
                  e.target.classList.add("is-visible");
                  // Stop observing once animated to improve performance
                  io.unobserve(e.target);
                }
              }
            },
            { root: null, rootMargin: "50px", threshold: 0.1 } // Trigger earlier with rootMargin for smoother UX
          );
          revealEls.forEach((el) => {
            try {
              io.observe(el);
            } catch (error) {
              console.warn('Could not observe element:', el, error);
            }
          });
        } else {
          revealEls.forEach((el) => {
            try {
              el.classList.add("is-visible");
            } catch (error) {
              console.warn('Could not add class to element:', el, error);
            }
          });
        }

        // ============================================================================
        // Slide Navigation & Dots
        // ============================================================================
        function setCurrentDot(idx) {
          dots.forEach((a, i) => a.setAttribute("aria-current", String(i === idx)));
        }

        function getClosestSlideIndex() {
          const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
          const viewportHeight = window.innerHeight;
          const viewportCenter = scrollTop + viewportHeight / 2;
          let best = 0;
          let bestDist = Infinity;

          for (let i = 0; i < slides.length; i++) {
            const slideRect = slides[i].getBoundingClientRect();
            const slideTop = scrollTop + slideRect.top;
            const slideCenter = slideTop + slideRect.height / 2;
            
            // Calculate distance from viewport center to slide center
            const distance = Math.abs(viewportCenter - slideCenter);

            if (distance < bestDist) {
              bestDist = distance;
              best = i;
            }
          }
          return best;
        }

        // ============================================================================
        // Scroll Handlers
        // ============================================================================
        let lastScrollTop = 0;
        let scrollTimeout = null;
        
        function handleHeaderScroll() {
          const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
          const scrollDelta = scrollTop - lastScrollTop;

          // Only hide/show if scrolling more than 10px
          if (Math.abs(scrollDelta) > 10) {
            if (scrollDelta > 0 && scrollTop > 100) {
              // Scrolling down - hide header
              topbar?.classList.add("hidden");
            } else if (scrollDelta < 0) {
              // Scrolling up - show header
              topbar?.classList.remove("hidden");
            }
            lastScrollTop = scrollTop;
          }

          // Always show header at the top
          if (scrollTop < 50) {
            topbar?.classList.remove("hidden");
          }
        }

        // Scroll progress bar
        const progressBar = document.querySelector(".scroll-progress-bar");
        function updateScrollProgress() {
          if (!progressBar) return;
          const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
          const scrollHeight = document.documentElement.scrollHeight;
          const clientHeight = window.innerHeight;

          const progress = (scrollHeight - clientHeight) > 0
            ? (scrollTop / (scrollHeight - clientHeight)) * 100
            : 0;
          progressBar.style.width = `${Math.min(100, Math.max(0, progress))}%`;
        }

        // Throttled scroll handler for better performance
        let rafId = 0;
        let lastSlideIndex = 0;
        let ticking = false;

        function handleScroll(e) {
          // Don't handle scroll events from scrollable-content (profile scrolling)
          if (e && e.target && e.target.closest(".scrollable-content")) {
            return;
          }
          
          if (!ticking) {
            cancelAnimationFrame(rafId);
            rafId = requestAnimationFrame(() => {
              const currentSlideIndex = getClosestSlideIndex();

              // Always update slide indicator for better UX
              setCurrentDot(currentSlideIndex);
              lastSlideIndex = currentSlideIndex;

              handleHeaderScroll();
              updateScrollProgress();
              
              ticking = false;
            });
            ticking = true;
          }
        }
        
        // Use window scroll event with passive listener for better performance
        scrollContainer.addEventListener("scroll", handleScroll, { passive: true });
        
        // Swipe detection is now handled by CSS scroll-snap behavior
        
        // Handle scrollable-content scrolling - smarter mobile navigation
        document.querySelectorAll(".scrollable-content").forEach((content) => {
          let lastScrollTop = 0;
          let scrollDirection = 0;

          content.addEventListener("scroll", (e) => {
            const currentScrollTop = content.scrollTop;
            scrollDirection = currentScrollTop - lastScrollTop;
            lastScrollTop = currentScrollTop;

            // On mobile, allow slide navigation when scrolling at edges or with momentum
            const isAtTop = currentScrollTop <= 10;
            const isAtBottom = currentScrollTop >= content.scrollHeight - content.clientHeight - 10;
            const isScrollingDownAtTop = isAtTop && scrollDirection > 0;
            const isScrollingUpAtBottom = isAtBottom && scrollDirection < 0;

            // Stop propagation only when we're in the middle of content scrolling
            if (!(isAtTop || isAtBottom || isScrollingDownAtTop || isScrollingUpAtBottom)) {
              e.stopPropagation();
            }
            // Otherwise, let the scroll event bubble up for slide navigation
          }, { passive: true });

          // Prevent touch events from bubbling when we're actively scrolling in content
          let touchStartY = 0;
          let contentTouchStartX = 0;
          content.addEventListener("touchstart", (e) => {
            touchStartY = e.touches[0].clientY;
            contentTouchStartX = e.touches[0].clientX;
          }, { passive: true });

          content.addEventListener("touchmove", (e) => {
            const touchX = e.touches[0].clientX;
            const touchY = e.touches[0].clientY;
            const deltaX = Math.abs(touchX - contentTouchStartX);
            const deltaY = Math.abs(touchY - touchStartY);

            // If horizontal movement dominates (even small movements), allow swipe navigation
            if (deltaX > deltaY && deltaX > 10) {
              // Let horizontal swipe bubble up for profile/project navigation
              // Don't stop propagation - let it reach the slide swipe handlers
              return;
            }

            // If we've moved more than 15px vertically while in content, prevent slide navigation
            if (deltaY > 15 && content.scrollTop > 5 && content.scrollTop < content.scrollHeight - content.clientHeight - 5) {
              e.stopPropagation();
            }
          }, { passive: true });
        });
        
        // Initial progress update
        updateScrollProgress();

        // ============================================================================
        // Keyboard Navigation
        // ============================================================================
        function goToSlide(i) {
          const idx = Math.max(0, Math.min(slides.length - 1, i));
          const behavior = prefersReduced ? "auto" : "smooth";

          // Scroll to the slide using scrollIntoView for smooth scrolling
          slides[idx].scrollIntoView({ behavior, block: "start" });
          setCurrentDot(idx);
        }

        function goNext() {
          goToSlide(getClosestSlideIndex() + 1);
        }
        function goPrev() {
          goToSlide(getClosestSlideIndex() - 1);
        }

        window.addEventListener("keydown", (e) => {
          const tag = (e.target && e.target.tagName) || "";
          const isTyping =
            tag === "INPUT" || tag === "TEXTAREA" || e.target.isContentEditable;
          if (isTyping) return;

          if (e.key === "ArrowDown" || e.key === "PageDown") {
            e.preventDefault();
            goNext();
          } else if (e.key === "ArrowUp" || e.key === "PageUp") {
            e.preventDefault();
            goPrev();
          } else if (e.key === "Home") {
            e.preventDefault();
            goToSlide(0);
          } else if (e.key === "End") {
            e.preventDefault();
            goToSlide(slides.length - 1);
          }
        });

        nextBtn?.addEventListener("click", goNext);

        // ============================================================================
        // Modal Management
        // ============================================================================
        let lastFocus = null;
        function openModal(modalEl) {
          if (!modalEl) return;
          lastFocus = document.activeElement;
          modalEl.classList.add("open");
          // Prevent body scroll when modal is open
          document.body.style.overflow = "hidden";
          const closeBtn = modalEl.querySelector("[data-close-modal]");
          closeBtn?.focus();
        }
        function closeModal(modalEl) {
          if (!modalEl) return;
          modalEl.classList.remove("open");
          // Restore body scroll
          document.body.style.overflow = "";
          if (lastFocus && typeof lastFocus.focus === "function") lastFocus.focus();
        }

        document.querySelectorAll("[data-open-modal]").forEach((btn) => {
          btn.addEventListener("click", () => {
            const which = btn.getAttribute("data-open-modal");
            if (which === "erik") openModal(modalErik);
            if (which === "tommy") openModal(modalTommy);
            if (which === "helipad") openModal(modalHelipad);
            if (which === "aas") openModal(modalAas);
          });
        });
        
        // Technology chip modals
        document.querySelectorAll("[data-tech]").forEach((chip) => {
          chip.addEventListener("click", () => {
            const tech = chip.getAttribute("data-tech");
            if (tech === "react-typescript") openModal(modalReactTypeScript);
            if (tech === "vite-tailwind") openModal(modalViteTailwind);
            if (tech === "rust") openModal(modalRust);
            if (tech === "modbus") openModal(modalModbus);
            if (tech === "sse") openModal(modalSse);
          });
          chip.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              chip.click();
            }
          });
        });
        document.querySelectorAll("[data-close-modal]").forEach((btn) => {
          btn.addEventListener("click", () => closeModal(btn.closest(".modal")));
        });

        // ============================================================================
        // Mobile Swipe Handlers
        // ============================================================================
        (function setupPersonsSwipe() {
          const personsScroll = document.querySelector(".persons-scroll");
          const slide2 = document.getElementById("slide-2"); // Team slide
          if (!personsScroll || !slide2) return;

          const isTouchDevice = window.matchMedia("(hover: none) and (pointer: coarse)").matches;
          if (!isTouchDevice) return;

          let touchStartX = 0;
          let touchEndX = 0;
          let touchStartY = 0;
          let touchEndY = 0;
          let scrollStartX = 0;
          let scrollStartY = 0;
          let isHorizontalSwipe = false;
          let hasMoved = false;

          // Dead zone thresholds - more forgiving for profile swiping
          const HORIZONTAL_THRESHOLD = 25; // Minimum horizontal movement to trigger horizontal swipe
          const VERTICAL_THRESHOLD = 40; // Minimum vertical movement to trigger vertical scroll (slide change)
          const DIRECTION_RATIO = 1.2; // Horizontal must be this much larger than vertical to be considered horizontal

          // Listen on entire slide-2 for horizontal swipes (including scrollable content)
          slide2.addEventListener("touchstart", (e) => {

            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
            scrollStartX = personsScroll.scrollLeft;
            scrollStartY = window.scrollY;
            isHorizontalSwipe = false;
            hasMoved = false;
          }, { passive: true });

          slide2.addEventListener("touchmove", (e) => {

            if (!hasMoved) {
              const deltaX = Math.abs(e.touches[0].clientX - touchStartX);
              const deltaY = Math.abs(e.touches[0].clientY - touchStartY);

              // Determine if this is primarily horizontal or vertical movement
              if (deltaX > HORIZONTAL_THRESHOLD && deltaX > deltaY * DIRECTION_RATIO) {
                isHorizontalSwipe = true;
              } else if (deltaY > VERTICAL_THRESHOLD && deltaY > deltaX * DIRECTION_RATIO) {
                isHorizontalSwipe = false;
              }
              hasMoved = deltaX > 10 || deltaY > 10;
            }

            // If horizontal swipe, prevent vertical scroll and handle horizontal scrolling
            if (isHorizontalSwipe && hasMoved) {
              e.preventDefault();
            }
          }, { passive: false });

          slide2.addEventListener("touchend", (e) => {

            if (!hasMoved) return;

            touchEndX = e.changedTouches[0].clientX;
            touchEndY = e.changedTouches[0].clientY;
            const swipeDistanceX = touchStartX - touchEndX;
            const swipeDistanceY = touchStartY - touchEndY;
            const absX = Math.abs(swipeDistanceX);
            const absY = Math.abs(swipeDistanceY);

            // Horizontal swipe: navigate between profiles
            if (isHorizontalSwipe && absX > HORIZONTAL_THRESHOLD) {
              const personElements = personsScroll.querySelectorAll('.person-scrollable');
              const scrollAmount = personElements[0] ? personElements[0].offsetWidth + 16 : personsScroll.offsetWidth * 0.75; // Element width + gap
              const currentScroll = personsScroll.scrollLeft;
              const targetScroll = swipeDistanceX > 0
                ? currentScroll + scrollAmount // Swipe left (next)
                : currentScroll - scrollAmount; // Swipe right (previous)

              // Calculate max scroll (accounting for padding)
              const maxScroll = personsScroll.scrollWidth - personsScroll.clientWidth;
              personsScroll.scrollTo({
                left: Math.max(0, Math.min(targetScroll, maxScroll)),
                behavior: "smooth"
              });
            }
            // For vertical swipes, don't interfere - let slide navigation handle it
          }, { passive: true });
        })();

        // Projects swipe functionality for mobile with smart scroll detection
        (function setupProjectsSwipe() {
          const projectsScroll = document.querySelector(".projects-scroll");
          const slide3 = document.getElementById("slide-3"); // Projects slide
          if (!projectsScroll || !slide3) return;

          const isTouchDevice = window.matchMedia("(hover: none) and (pointer: coarse)").matches;
          if (!isTouchDevice) return;

          let touchStartX = 0;
          let touchEndX = 0;
          let touchStartY = 0;
          let touchEndY = 0;
          let scrollStartX = 0;
          let scrollStartY = 0;
          let isHorizontalSwipe = false;
          let hasMoved = false;

          // Dead zone thresholds - more forgiving for project swiping
          const HORIZONTAL_THRESHOLD = 25; // Minimum horizontal movement to trigger horizontal swipe
          const VERTICAL_THRESHOLD = 40; // Minimum vertical movement to trigger vertical scroll (slide change)
          const DIRECTION_RATIO = 1.2; // Horizontal must be this much larger than vertical to be considered horizontal

          // Listen on entire slide-3 for horizontal swipes (including scrollable content)
          slide3.addEventListener("touchstart", (e) => {

            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
            scrollStartX = projectsScroll.scrollLeft;
            scrollStartY = window.scrollY;
            isHorizontalSwipe = false;
            hasMoved = false;
          }, { passive: true });

          slide3.addEventListener("touchmove", (e) => {

            if (!hasMoved) {
              const deltaX = Math.abs(e.touches[0].clientX - touchStartX);
              const deltaY = Math.abs(e.touches[0].clientY - touchStartY);

              // Determine if this is primarily horizontal or vertical movement
              if (deltaX > HORIZONTAL_THRESHOLD && deltaX > deltaY * DIRECTION_RATIO) {
                isHorizontalSwipe = true;
              } else if (deltaY > VERTICAL_THRESHOLD && deltaY > deltaX * DIRECTION_RATIO) {
                isHorizontalSwipe = false;
              }
              hasMoved = deltaX > 10 || deltaY > 10;
            }

            // If horizontal swipe, prevent vertical scroll and handle horizontal scrolling
            if (isHorizontalSwipe && hasMoved) {
              e.preventDefault();
            }
          }, { passive: false });

          slide3.addEventListener("touchend", (e) => {

            if (!hasMoved) return;

            touchEndX = e.changedTouches[0].clientX;
            touchEndY = e.changedTouches[0].clientY;
            const swipeDistanceX = touchStartX - touchEndX;
            const swipeDistanceY = touchStartY - touchEndY;
            const absX = Math.abs(swipeDistanceX);
            const absY = Math.abs(swipeDistanceY);

            // Horizontal swipe: navigate between projects
            if (isHorizontalSwipe && absX > HORIZONTAL_THRESHOLD) {
              const projectElements = projectsScroll.querySelectorAll('.project');
              const scrollAmount = projectElements[0] ? projectElements[0].offsetWidth + 16 : projectsScroll.offsetWidth * 0.7; // Element width + gap
              const currentScroll = projectsScroll.scrollLeft;
              const targetScroll = swipeDistanceX > 0
                ? currentScroll + scrollAmount // Swipe left (next)
                : currentScroll - scrollAmount; // Swipe right (previous)

              // Calculate max scroll (accounting for padding)
              const maxScroll = projectsScroll.scrollWidth - projectsScroll.clientWidth;
              projectsScroll.scrollTo({
                left: Math.max(0, Math.min(targetScroll, maxScroll)),
                behavior: "smooth"
              });
            }
            // For vertical swipes, don't interfere - let slide navigation handle it
          }, { passive: true });
        })();
        window.addEventListener("keydown", (e) => {
          if (e.key !== "Escape") return;
          if (modalErik?.classList.contains("open")) {
            e.preventDefault();
            closeModal(modalErik);
          }
          if (modalTommy?.classList.contains("open")) {
            e.preventDefault();
            closeModal(modalTommy);
          }
          if (modalHelipad?.classList.contains("open")) {
            e.preventDefault();
            closeModal(modalHelipad);
          }
          if (modalAas?.classList.contains("open")) {
            e.preventDefault();
            closeModal(modalAas);
          }
          if (modalReactTypeScript?.classList.contains("open")) {
            e.preventDefault();
            closeModal(modalReactTypeScript);
          }
          if (modalViteTailwind?.classList.contains("open")) {
            e.preventDefault();
            closeModal(modalViteTailwind);
          }
          if (modalRust?.classList.contains("open")) {
            e.preventDefault();
            closeModal(modalRust);
          }
          if (modalModbus?.classList.contains("open")) {
            e.preventDefault();
            closeModal(modalModbus);
          }
          if (modalSse?.classList.contains("open")) {
            e.preventDefault();
            closeModal(modalSse);
          }
        });
        modalErik?.addEventListener("click", (e) => {
          if (e.target === modalErik) closeModal(modalErik);
        });
        modalTommy?.addEventListener("click", (e) => {
          if (e.target === modalTommy) closeModal(modalTommy);
        });
        modalHelipad?.addEventListener("click", (e) => {
          if (e.target === modalHelipad) closeModal(modalHelipad);
        });
        modalAas?.addEventListener("click", (e) => {
          if (e.target === modalAas) closeModal(modalAas);
        });
        modalReactTypeScript?.addEventListener("click", (e) => {
          if (e.target === modalReactTypeScript) closeModal(modalReactTypeScript);
        });
        modalViteTailwind?.addEventListener("click", (e) => {
          if (e.target === modalViteTailwind) closeModal(modalViteTailwind);
        });
        modalRust?.addEventListener("click", (e) => {
          if (e.target === modalRust) closeModal(modalRust);
        });
        modalModbus?.addEventListener("click", (e) => {
          if (e.target === modalModbus) closeModal(modalModbus);
        });
        modalSse?.addEventListener("click", (e) => {
          if (e.target === modalSse) closeModal(modalSse);
        });

        // Copy to clipboard
        function showToast(msg) {
          toastText.textContent = msg;
          toast.classList.add("show");
          window.setTimeout(() => toast.classList.remove("show"), 1400);
        }

        document.querySelectorAll("[data-copy]").forEach((btn) => {
          btn.addEventListener("click", async () => {
            const text = btn.getAttribute("data-copy") || "";
            try {
              await navigator.clipboard.writeText(text);
              showToast("Kopiert: " + text);
            } catch {
              // Fallback
              const ta = document.createElement("textarea");
              ta.value = text;
              ta.setAttribute("readonly", "");
              ta.style.position = "fixed";
              ta.style.left = "-9999px";
              document.body.appendChild(ta);
              ta.select();
              document.execCommand("copy");
              document.body.removeChild(ta);
              showToast("Kopiert: " + text);
            }
          });
        });

        // ============================================================================
        // Initialization
        // ============================================================================
        
        // Initial dot
        setCurrentDot(0);

        // Ensure slides are properly positioned
        function setupSlides() {
          const isMobile = window.matchMedia("(hover: none) and (pointer: coarse)").matches;
          slides.forEach((slide, index) => {
            // Reset any inline positioning
            slide.style.top = '';
            slide.style.position = '';
            slide.style.left = '';
            slide.style.right = '';
          });
        }
        setupSlides();

        // Version info is set at bottom of page in HTML
      })();

    </script>

  </body>
</html>


